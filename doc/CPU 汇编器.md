# 设计目标
1. 支持.include的方式引入多个汇编文件
2. 支持链接器链接多个目标文件，链接器链接完成之后
    2.1 应当有且仅有一个main label
    2.2 应当没有找不到的label
    2.3 系统调用通过中断int 21来执行，调用号放在R0里面

# 伪指令

.text 代码段
.data 数据段
.byte 字节
.word 字 32位
.align n
.import
.public
.ascii "str"
.asciz "str"

# 注释
英文分号

# 标号
label:

# erros
0 - 不正确的指令
1 - 参数过多
2 - 参数过少
3 - 参数不正确

# 预处理
预处理的问题很有意思
1. 我们怎么处理监测到循环引用

如图，preprocessor.png，我们最初的想法是设置一个全局变量，假如一个路径已经出现在全局变量的字典里，我们就报错。
但是这么做是有问题的，比如b依赖于c，c出现在全局变量里，但是这个时候我们会发现a也依赖于c。

所以，简单的，对于每个依赖，我们都生成一个新的变量，我们要看的是这个链路有没有依赖。

2. 我们怎么消除重复代码

我们需要一个gloabl 变量，来去记录某个文件有没有resolved，假如resolved了，那么就不再处理。

# update
支持.include的方式实在是有点难，先放弃，支持多个.o文件合并。